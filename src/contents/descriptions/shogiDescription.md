# オリジナル将棋を作ってみよう！

駒の種類や盤面をカスタマイズして、オリジナルの将棋ゲームを作ることができます。

## 後で適切な位置に挿入

「駒テンプレート」ボタンを押して id を入力すると、id に応じた駒のテンプレートが挿入できます。

id とテンプレートの種類の対応は次の通りです。

| id  | 種類             |     | id  | 種類       |
| --- | ---------------- | --- | --- | ---------- |
| 0   | 基本テンプレート |     | 9   | キング     |
| 1   | 王将             |     | 10  | クイーン   |
| 2   | 飛車と竜王       |     | 11  | ビショップ |
| 3   | 角行と竜馬       |     | 12  | ルーク     |
| 4   | 金将             |     | 13  | ナイト     |
| 5   | 銀将             |     | 14  | ポーン     |
| 6   | 桂馬             |
| 7   | 香車             |
| 8   | 歩兵             |

## ゲームの基本設定

盤面と、ゲームのルールに関する設定です。

`縦のマス数`, `横のマス数` は、盤面のマスの数を設定します。

`持ち駒を使うか` は、取った相手の駒を持ち駒として使えるかどうかです。`true` を設定すると、持ち駒を使えます。`false` を設定すると、持ち駒は使えず、持ち駒置き場も表示されなくなります。

`駒が成れる段数` は、敵陣の何段目に駒が入ると成れるかを数値で指定します。駒が成れるタイミングは、指定した敵陣の範囲に駒が入った時と、敵陣の中から駒が動いた時です。

`壁マスの座標リスト` は、駒が侵入できないマスの座標を指定する配列です。座標は `Cell(y, x)` という形で表し、複数の座標を指定したい場合はカンマ区切りで入力できます。

## 見た目に関する設定

文字やマスの色、大きさなどを簡単に設定できます。変数名にマウスポインターを合わせると、詳しい説明を見ることができます。

`後手の駒を反転させるか` は、`true` にすると後手の駒の文字を 180 度回転させます。将棋のように駒が向かい合う見た目にしたい場合は `true`、チェスのように駒の色のみを変えたい場合は `false` を設定してください。

`色` は、基本的な色の名前を英語で入力すれば反映されます(`black`, `red` など)。使用できるすべての色の名前は[こちら](https://developer.mozilla.org/ja/docs/Web/CSS/named-color)で確認できます。また、RGB 値の 16 進表記などでも入力できます(#RRGGBB)。

`境界線` は、太さ、色、種類を空白区切りで指定できます。種類には `solid`, `dashed`, `double`, `none` などがあります。詳しくは[こちら](https://developer.mozilla.org/ja/docs/Web/CSS/border)をご覧ください。

`マスの一辺の長さ` と `フォントサイズ` は数値で指定してください。単位は `px`(ピクセル)です。

## 詳細な仕様

JavaScript に慣れている方向けに、定義されているいくつかの関数や変数に関して説明します。これらを利用することで、さらにカスタマイズすることが可能です。

### イベントハンドラ

#### `マスがクリックされた時`

マスがクリックされた時に実行される関数です。引数の `x`, `y` はクリックされたマスの座標です。

#### `持ち駒がクリックされた時`

持ち駒がクリックされた時に実行される関数です。引数の `player` はどちらのプレイヤーの持ち駒か、`index` は上から何番目に表示されている持ち駒かを表します。

### 便利な関数

基本的に変更する必要はありません。

#### `showMessage`

引数に指定した文字列を画面上部に表示します。

#### `renderCell`

引数に指定された座標のマスの現在の状態を画面に反映します。マスの状態を変更した後に実行してください。

#### `renderCapturedPiece`

引数に指定されたプレイヤーの現在の持ち駒を持ち駒置き場に反映します。持ち駒の状態を変更した後に実行してください。
